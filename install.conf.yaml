- defaults:
    link:
        create: true
        relink: true

- clean: ['~', '~/.config', '~/.vim']

- create:
    - ~/repos
    - ~/.zfunc
    - ~/.local

- link:
    ~/.dotfiles: "" # This links ~/.dotfiles to this repo
    ~/.editorconfig: editorconfig
    ~/.clang-format: clang-format
    ~/.condarc: condarc
    # direnv
    ~/.config/direnv: direnv
    ~/.inputrc: inputrc
    # kitty
    ~/.config/kitty/kitty.conf: kitty/kitty.conf
    # Homebrew alias: https://github.com/Homebrew/homebrew-aliases
    ~/.brew-aliases:
        if: '[ $(uname) = Darwin ]'
        path: brew-aliases
    # i3
    ~/.config/i3:
        if: '[ $(uname) = Linux ]'
        path: i3
    ~/.config/ripgrep/ripgreprc: ripgrep/ripgreprc
    # zsh
    ~/.zshrc: zshrc
    ~/.config/zsh: zsh
    # git & github-cli
    ~/.gitconfig: git/gitconfig
    ~/.config/git/ignore: git/ignore
    ~/.config/gh: github-cli
    # Neovim
    ~/.config/nvim: nvim
    ~/.vimrc: vimrc_minimal
    # ideavim
    ~/.ideavimrc: ideavimrc
    # doom-emacs
    ~/.doom.d: doom-emacs

- link:
    ~/.config/kitty/os.conf:
        if: '[ $(uname) = Darwin ]'
        path: kitty/macOS.conf

- link:
    ~/.config/kitty/os.conf:
        if: '[ $(uname) = Linux ]'
        path: kitty/linux.conf

- shell:
    - ['touch ~/.config/git/local.gitconfig
       ~/.config/kitty/local.conf
       ~/.config/nvim/before.vim ~/.config/nvim/after.vim ~/.vim/bookmarks
       ~/.config/zsh/before.zsh ~/.config/zsh/after.zsh', "Creating local files"]
    - ["git submodule update --init --recursive", "Installing submodules"]
    - ['[ -f ~/.local/antigen.zsh ] ||
        curl -L git.io/antigen > ~/.local/antigen.zsh', "installing antigen"]
    - [
        'type nvim > /dev/null && nvim -es -u nvim/init.vim -i NONE -c
        "PlugInstall" -c "qa"',
        "Installing vim plugins"
      ]

# vim: expandtab shiftwidth=4 softtabstop=4
