// vi: ft=jsonc
{
    "json.schemas": [{
        "fileMatch": [ "coc-settings.json" ],
        "schema": { "allowTrailingCommas": true }
    }],
    "coc.preferences.jumpCommand": "drop",
    "coc.preferences.rootPatterns": [
        ".git",
        ".hg",
        ".projections.json",
        ".root",
        ".vim_root"
    ],
    "coc.preferences.maxFileSize": "10MB",
    "coc.preferences.currentFunctionSymbolAutoUpdate": true,
    "snippets.extends": {
        "cpp": [ "c" ],
    },
    // Python
    // This enables Microsoft's Python Language Server
    "python.jediEnabled": false,
    "python.formatting.provider": "autopep8",
    "python.venvFolders": [
        "envs",
        ".pyenv",
        ".direnv",
        ".venv"
    ],
    // C/C++
    "clangd.arguments": [ 
        "-header-insertion=never",
        "-cross-file-rename"
    ],
    "clangd.fallbackFlags": [ "-Wall", "-Ilib" ],
    "clangd.semanticHighlighting": true,
    // LaTeX
    // "latex.build.executable": "tectonic",
    // "latex.build.args": [
    //     "%f",
    //     "--synctex",
    //     "--keep-logs",
    //     "--keep-intermediates",
    //     // "--outdir out"
    // ],
    // "latex.build.outputDirectory": "out",
    "languageserver": {
        "haskell": {
            "command": "haskell-language-server-wrapper",
            "args": [ "--lsp" ],
            "rootPatterns": [
                "*.cabal",
                "stack.yaml",
                "cabal.project",
                "package.yaml",
                "hie.yaml",
            ],
            "filetypes": [ "haskell", "lhaskell" ],
        },
        "digestif": {
            "command": "digestif",
            "filetypes": [ "tex", "plaintex", "context" ],
        }
    },
}
